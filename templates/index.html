
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Analysis</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 2em;
        }
        .results {
            margin-top: 2em;
        }
        .plot {
            margin-top: 1em;
        }
    </style>
</head>
<body>
    <h1>Daily Option Strategy Analyzer</h1>
    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
    <form action="/" method="post">
        <label for="tickers">Stock Tickers (comma-separated, up to 3):</label><br>
        <input type="text" id="tickers" name="tickers" size="50" value="{{ tickers or '''' }}"><br><br>
        <label for="benchmark">Benchmark Index:</label><br>
        <input type="text" id="benchmark" name="benchmark" size="20" value="{{ benchmark or '''' }}"><br><br>
        <input type="submit" value="Run Analysis">
    </form>

    {% if results %}
        <div class="results">
            <h2>Analysis Results</h2>
            {% for ticker, result in results.items() %}
                <h3>{{ ticker }}</h3>
                <div class="summary">
                    <h4>Summary</h4>
                    <pre>{{ result.summary }}</pre>
                </div>
                <div class="plot">
                    <h4>Plot</h4>
                    {{ result.plot|safe }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
</body>
</html>
